<center>python学习笔记</center>

## 一、输出

print("...")

注意括号和引号需要使用英文符号

print输出自动换行

补充：print输出不换行

```python
print("Hello",end='')
print("World",end='')
```

制表符\t(使用后可以对齐)

```python
print("Hello\tWorld")
print("Goodmoring\tLife")
```

print()表示输出一个换行

## 二、基础语法

### 1.字面量

1. 定义：在代码中，被写下来的固定的值
2. 双引号中内容均为字符串字面量

### 2.注释

1. 单行注释：以#开头和注释内容建议以一个空格隔开
2. 多行注释：以一对三个双引号引起来解释说明一段代码的作用使用方法

```python
 """这是多行注释"""
```

### 3.变量

定义：在程序运行时，能储存计算结果或能表示值的抽象概念

```python
money=50
print("钱包还有：",money)
# 算术运算类比C语言
```

ps：变量没有类型但变量存储的数据是有类型的

### 4.数据类型

type  (想要查询类型的字面量和变量)

### 5.数据类型转换

```python
int("11")
# 将字符串型转换为整型
```

 任何类型都可以转换成字符串，但字符串必须是只有数字时才能转换成数字

### 6.标识符

定义：编程时给变量、类、方法等命名 

命名规则和C语言相似

### 7.运算符

类比C语言

### 8.字符串扩展

#### 1.字符串定义形式

1. 单引号定义（使用单引号包围）
2. 双引号定义（使用双引号包围）
3. 三引号定义（使用三引号包围）

#### 2.字符串拼接

```python
name = "zhang"
xing = "san"
print("姓："+name"，名："+address)
```

#### 3.字符串格式化

通过占位的形式完成拼接类比C语言

占位符类比C语言

```python
a = 2
b = 3
"这个队伍有%d行，%d列" %(a,b)
```

#### 4.数字精度控制

类比C语言

#### 5.快速格式化

```python
f"内容{变量}"
print(f"我是{name} 我成立于：{set_up_year}")
```

 也可格式化表达式这种方式对比C语言更加精准

### 9.数据输入

input语句

```python
print("请告诉我你是谁？")
name=input()
print("我知道了，你是：%s" % name)
```

input语句会把获取到的数据转换为字符串类型

## 三、判断语句

### 1.布尔类型和比较运算符

类比C语言

### 2.判断语句的语法

##### 1.if语句

if 要判断的条件：

​		条件成立时，要做的事

```python
# 定义变量
age=30
# 进行判断
if age >= 18:
	print("我已经成年了")
    print("即将步入大学生活")# 当if判断为True时会执行，当if判断为False时不会执行
```

if语句注意事项：

* 判断套件的结果一定是布尔类型
* 不要忘记判断条件后的:冒号
* 归属if语句的代码块，需在前方填充4个空格缩进

##### 2.if else语句：

```python
if 条件:
    满足条件时要做的事
else:
    不满足条件时要做的事
```



##### 3.if elif else语句

```python
if 条件1:
    条件1满足应做的事情
elif 条件2:
    条件2满足应做的事情
elif 条件3:
    条件3满足应做的事情
else:
    所有条件都不满足应做的事情
```

注意点

* elif可以写多个
* 判断互斥且有序的，上一个满足后面的就不会判断了
* 可以在条件判断中，直接写input语句，节省代码量

### 3.判断语句的嵌套

嵌套的关键点在于：空格缩进

通过空格缩进，来决定语句之间的：层级关系

ps：python中随机数定义

```
import random
num = random.randint(1,10)
```

## 四、循环语句

### 1.循环语句的语法

#### 1.while循环

##### 1.语法

```python
while 条件:
    条件满足时，做的事情1
    条件满足时，做的事情2
    条件满足时，做的事情3
```

 注意事项：

* 条件需提供布尔类型结果，True继续False停止
* 空格缩进不能忘
* 请规划好循环终止条件，否则将无限循环 
* 可以通过定义布尔变量来控制循环终止

##### 2.while循环嵌套 

* 注意缩进对应层级  

#### 2.for循环（遍历循环）注意与C语言做好区别

将字符串的内容依次取出

##### 1.语法

```python
for 临时变量 in 待处理的数据集(序列)
    循环满足条件时执行的代码
```

与C语言有所不同的例子

```
name = "python"

for x in name:
    # 将name里的内容,挨个取出赋于x临时变量
    # 就可以在循环体内对x进行处理
    print(x)
```

注意点：

* 无法定义循环条件，只能被动取出数据处理
* 要注意，循环内的语句，需要有空格缩进

##### 2.range语句可以类比数组理解

学习range语句，获得一个简单的数字序列

###### 语法1：

```python
range(num)
```

获取一个从0开始，到num结束的数字序列（不含num本身）如：range(5)取得的数据是：[0,1,2,3,4]

###### 语法2：

```python
range(num1,num2)
```

获得一个从num1开始，到num2结束的数字序列（不含num2本身）如：range(5,10)取得的数据说：[5,6,7,8,9]

###### 语法3：

```python
range(num1,num2,step)
```

获得一个从num1开始，到num2结束的数字序列（不含num2本身）

数字之间的步长以step为准（默认为1）如:range(5,10,2)取得的数据是[5,7,9]

##### 3.变量作用域

规范上临时变量的作用域只限定在for循环内部

如果在for循环外部访问访问临时变量：

* 实际上是可以访问到的
* 在编程规范上，是不允许的、不建议这么做

想在for循环外部访问临时变量需要在for循环前前把临时变量定义好

##### 4.for循环的嵌套

注意空格缩进

for循环可以与while循环灵活嵌套

##### 5.continue和break（大体与C语言一样）

###### continue

```python
for i in range(1,100):
    语句1
    continue
    语句2
```

* 在循环内遇到continue就结束当此循环，进行下一次
* 所以语句2不会执行

###### break

```python
for i in range(1,100):
    语句1
    break
    语句2
语句3
```

* 在循环内，遇到break就结束循环了
* 所以，执行了语句1后，直接执行语句3了

## 五、函数

函数是：组织好的，可重复使用的，用来实现特定功能的代码段

函数的好处：

* 将功能封装在函数内，可随时随地重复利用
* 提高代码复用性，减少重复代码，提高开发效率

### 1.函数的基础定义语法

```python
def 函数名(传入参数)：
    函数体
    return 返回值
```

注意事项

* 函数定义中的参数，称之为形式参数
* 函数调用中的参数，称之为实际参数
* 函数的参数数量不限，使用逗号分隔开
* 传入参数的时候，要和形式参数一一对应，逗号隔开

### 2.函数的返回值

* 函数的返回值，可以通过变量去接收
* 函数体在遇到return后就结束了，所以写在return后的代码不会被执行

#### 1.None类型

* 用在函数无返回值上
* 用在if判断上
* 用于声明无内容的变量上

### 3.函数的说明文档

* 可以给函数添加说明文档，辅助理解函数的作用。

```python
def func(x,y);
    """
    函数说明
    :param x:形参x的说明
    :param y:形参y的说明
    :return:返回值的说明
    """
    函数体
    return 返回值
```

三个引号后会自动补齐格式

### 4.函数的嵌套

### 5.变量的作用域

#### 1.局部变量

定义在函数体内部，即只在函数体内部生效

作用：在函数体内部，在函数运行时临时保存数据，在函数调用完毕后，立刻就销毁局部变量

#### 2.全局变量

在函数体内、外都能生效的变量

#### 3.global关键字

在函数内部声明变量为全局变量

## 六、数据容器(比较有python特色的部分)

一种可以容纳多份数据的数据类型，容纳的每份数据称为一个元素

每一个元素，可以是任意类型的数据，如字符串、数字、布尔等

数据容器根据特点不同如：

* 是否支持重复元素
* 是否可以修改
* 是否有序，等

分为五类，分别是：列表(list)、元组(tuple)、字符串(str)、集合(set)、字典(dict)

### 1.list(列表)

#### 1.语法

```
# 字面量
[元素1，元素2，元素3，...]

# 定义变量
变量名称 = [元素1，元素2，元素3，...]

# 定义空列表
变量名称 = []
变量名称 = list()
```

列表内的每一个数据，称之为元素

* 以[] 作为标识
* 列表内每一个元素之间用,逗号隔开
* 列表可以一次存储多个数据，且可以为不同的数据类型，支持嵌套

#### 2.列表的下标（索引）

* 正向索引（规则类比C语言）
* 反向索引：从-1开始依次递减（-1、-2、-3....）
* 嵌套列表的下标类比C语言的二维数组的下标

#### 3.列表的查询功能（方法）

在python中，如果将函数定义为class（类）的成员，那么函数会称之为方法

```python
class Student:
    
    def add(self,x,y):
        return x + y
```

方法和函数功能一样，有传入参数，有返回值，只是方法的使用格式不同：

函数的使用

```python
num = add(1,2)
```

方法的使用

```python
student = Student()
num = student.add(1,2)
```

##### 1.列表查询方法

功能：查找指定元素在列表的下标，如果找不到，报错ValueError

语法：列表.index(元素)

index就是列表对象内置的方法

##### 2.列表的修改方法

* 修改特定位置的元素值：

语法：列表[下标] = 值

可以使用如上语法，直接对指定下标（正向，反向下标均可以）的值进行：重新赋值（修改）

* 插入元素

语法：列表.insert(下标,元素)

在指定的下标位置，插入指定的元素

* 追加元素

语法：列表.append(元素)

将指定元素，追加到列表的尾部。

* 追加元素方式2

语法：列表.extend(其他数据容器)

将其他数据容器的内容取出，依次追加到列表尾部

* 删除元素

语法1：del列表[下标]

语法2：列表.pop(下标)（与语法1不同是能把删掉元素作为返回值去得到

* 删除某元素在列表中的第一个匹配项

语法：列表.remove(元素)

* 清空列表内容

语法：列表.clear()

* 统计某元素在列表内的数量

语法：列表.count(元素)

* 统计列表总共有多少元素

语法：len(列表)

##### 3.总结列表修改方法

![image-20240119161642790](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240119161642790.png)

##### 4.list列表的遍历

* 通过while循环来遍历列表

循环条件：下标索引变量<列表元素数量

```python
index = 0
while index < len(my_list)
    element = my_list[index]
    print(f"列表的元素：{element}")
    index += 1
```

* 通过for循环遍历列表

```python
for element in my_list:
    print(f"列表的元素有:{element}")
```

两种遍历方式细节不同：

* 在循环控制上：

while循环可以自定循环条件，并自行控制

for循环不可以自定控制条件，只可以一个个从容器内取出数据

* 在无限循环上：

while循环可以通过条件控制做到无限循环

for循环理论上不可以，因为被遍历的容器容量不是无限的

* 在使用场景上

while循环适用于任何想要的循环的场景

for循环适用于，遍历数据容器的场景或简单的固定次数循环场景

##### 5.序列的切片

从一个序列中，取出一个子序列

语法：序列[起始下标:结束下标:步长]

* 起始下标表示从何处开始，可以留空，留空视作从头开始
* 结束下标（不含）表示何处结束，可以留空，留空视作截取到结尾
* 步长表示，依次取元素的间隔（步长1表示，一个个取元素，步长2表示每次跳过一个元素取，步长为负数表示，反向取（注意：起始下标和结束下标也要反向标记））

### 2.tuple(元组)

元组同列表一样，都是可以封装多个、不同类型的元素在内

最大的不同点在于：元组一旦定义完成，就不可修改。当我们需要在程序内封装数据，又不希望封装的数据被篡改，那么元组就非常合适了

#### 1.元组的定义

元组定义：定义元组使用**小括号**，且使用逗号隔开各个数据，数据可以是不同的数据类型

```python
# 定义元组字面量
(元素,元素,....,元素)
# 定义元组变量
变量名称 = (元素,元素,....,元素)
# 定义空元组
变量名称 = ()         # 方式1
变量名称 = tuple()    # 方式2
# 定义1个元素的元组
t2 = ('Hello',)      # 注意，定义一个元组必须带有逗号，否则不是元组类型
```

* 元组也支持嵌套
* 元组可以下标取出内容
* 元组中只能用index()、count()、len(元组)等方法
* 元组遍历同样可以使用while和for循环

元组内容不可修改但有特例：当元组中嵌套列表时，列表内容可做修改

### 3.str(字符串)

#### 1.字符串的索引

与列表规则相同

#### 2.字符串的方法

字符串是一个**无法修改**的数据容器所以修改指定下标的字符、移除特定下标的字符、追加字符等均无法完成，如需要则必须得到新的字符串

* 查找特定字符串的下标索引值

语法：字符串.index(字符串)

```python
my_str = "python"
print(my_str.index("t"))
```

* 字符串的替换

语法：字符串.replace(字符串1,字符串2)

功能：将字符串内的全部字符串1，替换为字符串2

注意：不是修改字符串本身，而是得到一个新的字符串

* 字符串的分割

语法：字符串.split(分隔符字符串)

功能：按照指定的分隔符字符串，将字符串划分为多个字符串，并存入列表对象中

注意：字符串本身不变，而是得到了一个列表对象

* 字符串的规整操作（去前后空格）

语法：字符串.strip()

```python
my_str = " python "
print(my_str.strip())  # 结果："python"
```

* 字符串的规整操作（去前后指定字符串）

语法：字符串.strip(字符串)

```python
my_str = "12python21"
print(my_str.strip("12"))  # 结果："python"
```

注意：传入的是"12"其实是"1"和"2"都会移除，是按照单个字符

* 统计字符串数量的方法

语法：字符串.count(字符串)

#### 3.总结方法

![image-20240120124316974](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240120124316974.png)

#### 4.字符串的遍历

和列表一致

### 4.set（集合）

主要特点是不支持元素的重复，自带去重功能，内部无序

#### 1.基本定义

```python
# 定义集合字面量
{元素,元素,....,元素}
# 定义集合变量
变量名称 = {元素,元素,....,元素}
# 定义空集合
变量名称 = set()
```

#### 2.集合常用操作

集合是无序的，所以不支持下标索引访问，但集合和列表一样，是允许修改的

* 添加新元素

语法：集合.add(元素)   将指定元素添加到集合内

结果：集合本身被修改，添加了新元素

* 移除元素

语法：集合.remove(元素)，将指定元素，从集合内移除

结果：结合本身被修改，移除了元素

* 从集合中随机取出元素

语法：集合.pop() 功能，从集合中随机取出一个元素

结果：会得到一个元素的结果。同时集合本身被修改，元素被移除

* 清空集合

语法：集合.clear()  功能，清空集合

结果：集合本身被清空

* 取出两个集合的差集

语法：集合1.difference(集合2)，功能：取出集合1和集合2的差集（集合1有而集合2没有的）

结果得到一个新集合，集合1和集合2不变

* 消除2个集合的差集

语法：集合1.difference_update(集合2)

功能：对比集合1和集合2，在集合1内，删除和集合2相同的元素

结果：集合1被修改，集合2不变

* 2个集合的合并

语法：集合1.union(集合2)

功能：将集合1和集合2组合成新集合

结果：得到新集合，集合1和集合2不变

* 统计集合元素数量

语法：len(集合)

##### 总结

![image-20240120163507743](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240120163507743.png)

#### 3.集合的遍历

结合不支持下标索引，不能用while循环，但可以用for循环

```python
for element in set1:
    print(f"集合的元素有：{element}")
```

### 5.dict（字典、映射）

使用字典可以通过key取出对应的value

#### 1.字典的定义

字典的定义，同样使用{}，不过存储的元素是一个个的：键值对，语法如下：

```python
# 定义字典字面量
{key:value,key:value,....,key:value}
# 定义字典变量
my_dict = {key:value,key:value,....,key:value}
# 定义空字典
my_dict = {}         # 空字典定义方式1
my_dict = dict()     # 空字典定义方式2
```

#### 2.字典数据的获取

字典同集合一样不可以使用下标索引，但是字典可以通过key值来取得对应的value

```python
my_dict1 = {"a":1,"b":2}
score = my_dict1["a"]
print(score)  # 结果应为1
```

#### 3.字典的嵌套

字典的key和value可以是任意数据类型 （key不可以是字典，value可以嵌套字典）所以字典可以嵌套

#### 4.字典常用操作

* 新增元素

语法：字典[key] = value

结果：字典被修改，新增了元素

* 更新元素

语法：字典[key] = value

结果：字典被修改，元素被更新

注意：字典key不可以重复，所以对已存在的key执行上述操作，就是更新value值

* 删除元素

语法：字典.pop(key)

结果：获得指定key的value，同时字典被修改，指定key的数据被删除

* 清空字典

语法：字典.clear()

结果：字典被修改，元素被清空

* 获取全部的key

语法：字典.keys()

结果：得到字典中的全部key

* 统计字典内的元素数量

```python
num = len(my_dict)
```

##### 总结

![image-20240120191133103](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240120191133103.png)

#### 5.字典的遍历

for循环遍历

```python
# 方式1：通过获取到全部的key完成遍历
for key in keys:
    print(f"字典的key是：{key}")
    print(f"字典的value是：{my_dict[key]}")
# 方式2：直接对字典进行for循环，每一次循环都是直接得到key
for key in my_dict:
    print(f"字典的key是：{key}")
    print(f"字典的value是：{my_dict[key]}")
```

### 6.五种数据容器的对比

![image-20240121114433034](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240121114433034.png)

### 7.数据容器的通用操作

#### 1.遍历

* 5类数据容器都支持for循环遍历
* 列表、元组、字符串支持while循环，集合、字典不支持（无法下标索引）

#### 2.统计元素

* len(容器)，统计容器的元素个数
* max(容器)，统计容器的最大元素
* min(容器)，统计容器的最小元素

#### 3.类型转换

* list(容器)，将给定容器转换为列表
* tuple(容器)，将给定容器转换为元组
* str(容器)，将给定容器转换为字符串
* set(容器)，将给定容器转换为集合

#### 4.通用排序

sorted(容器,reverse=True)，将给定容器进行排序（[reverse=True]用来判定是从大到小还是从小到大排序，默认为file从小到大）

#### 5.总结

![image-20240121121447122](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240121121447122.png)

## 七、python函数进阶

### 1.函数的多返回值

一个函数要有多个返回值

```python
def test_return():
    return 1,2
x,y = test_return()
print(x)       # 结果为1
print(y)       # 结果为2
```

* 按照返回值的顺序，写对应顺序的多个变量接收即可
* 变量之间用逗号隔开
* 支持不同数据类型return

### 2.函数的多种传参方式

#### 1.位置参数

位置参数：调用函数时根据函数定义的参数位置来传递参数

```python
def user_info(name,age,gender):
    print(f"您的名字是{name}，年龄是{age}，性别是{gender}")

user_info('Tom',20,'男')
```

注意：传递的参数和定义的参数的顺序及个数必须一致

#### 2.关键字参数

关键字参数：函数调用时通过“键=值”形式传递参数

作用：可以让函数更加清晰、容易使用，同时也清除了参数的顺序需求

```python
def user_info(name,age,gender):
    print(f"您的名字是{name}，年龄是{age}，性别是{gender}")

# 关键字传参
user_info(name="小明",age=20,gender="男")
# 可以不按照固定顺序
user_info(age=20,gender="男",name="小明")
# 可以和位置参数混用，位置参数必须在前，且匹配参数顺序
user_info("小明",age=20,gender="男")
```

#### 3.缺省参数

缺省参数：缺省参数也叫默认参数，用于定义函数，为参数提供默认值，调用函数时可不传该默认参数的值（注意：所有位置参数必须出现在默认参数前，包括函数定义的调用）

作用：当调用函数时没有传递参数，就会使用默认是用缺省参数对应的值

```python
def user_info(name,age,gender='男'):
    print(f"您的名字是{name}，年龄是{age}，性别是{gender}")

user_info('Tom',20)
user_info('Rose',18,'女')
```

注意：函数调用时，如果为缺省参数传值则修改默认参数值，否则使用这个默认值

#### 4.不定长参数

不定长参数：不定长参数也叫可变参数，用于不确定调用的时候会传递多少个参数（不传参也可以）的场景

作用：当调用函数时不确定参数个数时，可以使用不定长参数

不定长参数类型：

* 位置传递
* 关键字传递

##### 1.位置传递的不定长

```python
def user_info(*args):
    print(args)
    
# ('Tom',)
user_info('Tom')
# ('Tom',18)
user_info('Tom',18)
```

注意：传进的所有参数都会被args变量收集，它会根据传进参数的位置合并为一个元组(tuple)，args是元组类型，这就是位置传递

##### 2.关键字传递的不定长

```python
def user_info(**kwargs):
    print(kwargs)
    
# {'name':'Tom','age':18,'id':110}
user_info(name='Tom',age=18,id=110)
```

注意：参数是“键=值”形式的形式的情况下，所有的“键=值”都会被kwargs接受，同时会根据“键=值”组成字典

### 3.匿名函数

#### 1.函数作为参数传递

函数本身也可以作为参数传入另一个函数内

```python
def test_func(compute):
	result = compute(1,2)
	print(result)
	
def compute(x,y):
	return x+y
	
test_func(compute)   # 结果：3
```

函数compute，作为参数，传入了test_func函数中使用

#### 2.lambda匿名函数

函数的定义中

* def关键字，可以定义带有名称的函数
* lambda关键字，可以定义匿名函数（无名称）

有名称的函数，可以基于名称重复使用

无名称的匿名函数，只可临时使用一次

```python
def test_func(compute):
	result = compute(1,2)
	print(result)
    
test_func(lambda x,y: x+y)
```

## 八、python的文件操作

### 1.文件编码

计算机使用编码技术将内容翻译成0和1存入硬盘中

UTF-8是目前全球通用的编码格式

### 2.文件的读取

#### 1.什么是文件

内存中存放的数据在计算机关机后就会消失。要长久保存数据，就要使用硬盘、光盘、U盘等设备。为了便于数据的管理和检索，引入了“文件“的概念

一篇文章、一段视频、一个可执行程序，都可以被保存为一个文件，并赋予一个文件名。操作系统以文件为单位管理磁盘中的数据。一般来说，文件可分为，文本文件、视频文件、图像文件、可执行文件等多种类别

文件操作步骤

* 打开文件
* 读写文件
* 关闭文件

#### 2.打开并读文件

##### 1.open()打开函数

```python
open(name,mode,encoding)
```

name：是要打开的目标文件名的字符串（可以包括文件所在的具体路径）

mode：设置打开文件的模式（访问模式）：只读、写入、追加等

mode常用的三种基础访问模式

![image-20240121170220962](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240121170220962.png)

encoding：编码格式（推荐使用UTF-8)

示例代码

```python
f=open('python.txt','r',encoding="UTF-8)
# encoding的顺序不是第三位，所以不能用位置参数，用关键字参数直接指定
```

注意：此时的'f'是'open'函数的文件对象，对象是python中一种特殊的数据类型，拥有属性和方法，可以使用对象.属性或对象.方法对其进行访问，后续面向对象课程会给大家进行详细的介绍

##### 2.读操作相关方法

* read()方法

```python
文件对象.read(num)
```

num表示要从文件中读取的数据的长度（单位为字节），如果没有传入num，那么就表示读取文件中所有的数据

* readlines()方法

readlines可以按照行的方式把整个文件中的内容进行一次性读取，并且返回的是一个列表，其中每行的数据为一个元素

```python
f=open('python.txt')
content=f.readlines()

# ['hello,world\n','abcdefg\n','aaa\n','bbb\n','ccc']
print(content)
# 关闭文件
f.close
```



* readline()方法，一次读取一行内容

```python
 f=open('python.txt')
 
 content=f.readline()
 print(f'第一行;{content}')
 
 content=f.readline()
 print(f'第二行;{content}')
 
 # 关闭文件
 f.close()
```



* for循环读取文件行

```python
for line in open("python.txt","r"):
	print(line)

# 每一个line临时变量，就记录了文件的一行数据
```

* close()，关闭文件对象

```python
f=open("python.txt","r")
f.close()

# 最后通过close，关闭文件对象，也就是关闭对文件的占用
# 如果不调用close，同时程序没有停止运行，那么这个文件将一直被python程序占用
```

* with open()语法

```
with open("python.txt","r") as f:
	f.readlines()

# 通过在with open的语句块中对文件进行操作
# 可以在操作完成后自动关闭close文件，为避免遗忘掉close方法
```

##### 3.操作汇总

![image-20240121175946071](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240121175946071.png)

#### 3.写操作

```python
# 1.打开文件
f = open("python.txt","w")
# 2.文件写入
f.write("hello world")
# 3.内容刷新
f.flush()
# f.close内置f.flush
```

注意：

* 直接调用write，内容并未真正写入文件，而是会积攒在程序的内存中，称之为缓冲区
* 当调用flush的时候，内容会真正写入文件
* 这样做是避免频繁的操作硬盘，导致效率下降（攒一堆，一次性写磁盘）

#### 4.追加写入操作

```python
# 1.打开文件，通过a模式打开即可
f=open("python.txt","a")

# 2.文件写入
f.write("hello world")

# 3.内容刷新
f.flush()
```

注意：a模式下，文件不存在会创建文件，文件存在会在最后追加写入文件

## 九、python异常、模块与包

### 1.python异常

异常就是程序运行过程中出现了错误

捕获异常的作用在于：提前假设某处会出现异常，做好提前准备，当真的出现异常的时候，可以有后续手段

### 2.异常的捕获

#### 1.捕获常规异常

基本语法：

```python
try:
	可能发生错误的代码
except:
	如果出现异常执行的代码
```

#### 2.捕获指定异常

```python
try:
	print(name)
except 	NameError as e:
	print('name变量名称未定义错误')
```

* 如果尝试执行的代码的异常类型和要捕获的异常类型不一致，则无法捕获异常
* 一般try下方只放一行尝试执行的代码

#### 3.捕获多个异常

当捕获多个异常时，可以把要捕获的异常类型名字，放到except后，并使用元组的方式进行书写

```python
try:
	print(1/0)
except(NameError,ZeroDivisionError):
	print('ZeroDivision错误')
```

#### 4.捕获全部异常

```python
try:
	
except Exception as e:
	print("出现异常了")
```

#### 5.异常else(可选)

```python
try:
	print(1)
except Exception as e:
	print(e)
else:
	print('我是else，是没有异常的时候执行的代码')
```

#### 6.异常的finally(可选)

```python
try:
	f=open('test.txt','r')
except Exception as e:
	f=open('test.txt','w')
else:
	print('没有异常，真开心')
finally:
	f.close()
```

### 3.异常的传递

异常是具有传递性的

当函数func01中发生异常，并且没有捕获处理这个异常的时候，异常会传递到函数func02，当func02也没有捕获处理这个异常的时候main函数会捕获这个异常，这就异常的传递性

注：当所有函数都没有捕获异常的时候，程序就会报错

### 4.python模块

定义：python模块(Module)。是一个python文件，以.py结尾，模块能定义函数，类和变量，模块里也能包含可执行的代码

作用：python中有很多各种不同的模块，每一个模块都可以帮助我们快速的实现一些功能，比如实现时间相关的功能就可以使用time模块。我们可以认为一个模块就是一个工具包，每一个工具包中都有各种不同的工具供我们使用进而实现不同功能

#### 1.模块的导入(C#中也有) 

语法：

```python
[from 模块名] import [模块|类|变量|函数|*] [as 别名
```

常见的组合形式：

* import 模块名
* from 模块名 import 类、变量、方法等
* from 模块名 import *
* import 模块名 as 别名
* from 模块名 import 功能名 as  别名

#### 2.import模块名

基本语法：

```python
import 模块名
import 模块名1,模块名2

# 模块使用
模块名.功能名
```

#### 3.from 模块名 import 功能名

基本语法：

````python
from 模块名 import 功能名
功能名()
````

#### 4.制作自定义模块

创建一个python文件使用时import这个文件即可

main变量提供的功能：通过main可以在自定义模块中运行测试功能

```python
__all__=['函数名']
如果一个模块文件中有'__all__'变量，当使用'from 模块名 import *'导入时，只能导入这个列表中的元素
```

#### 5.python包

一个python包内包含多个模块文件，包的本质依然是模块

作用：当我们的模块文件，越来越多时，包可以帮助我们管理这些模块

##### 1.自定义python包

* 新建包'my_package'
* 新建包类模块
* 新建包后，包内会自动创建'__ ini t__.py'文件，这个文件控制着包的导入行为

###### 1.导入包

方式一：

```python
import.包名.模块名
包名.模块名.目标
```

方式二：

```python
from 包名 import 模块名
模块名.目标
```

```python
__all__ = ['模块名']
# 可以控制import *的行为， 即这个包的那些模块可以被使用
```

##### 2.安装第三方包

在python程序的生态中，有许多的第三方包，可以极大的帮助我们提高开发效率如：

* 科学计算中常用的包：numpy包
* 数据分析中常用的包：pandas包
* 大数据计算中常用的：pyspark包，apache-flink包
* 图形可视化常用的：matplotlib、pyecharts
* 人工智能常用的：tensorflow

由于是第三方，所以python没有内置，所以需要安装他们才可以导入使用

###### 安装第三方包—pip

打开命令提示符程序输入：

pip install 包名称

即可通过网络快速安装第三方包

国内网站安装输入：

pip install -i https://pypi.tuna.tsinghua.edu.cn/simple 包名称

vscode上：按Ctrl和~按键进入终端输入以上代码
